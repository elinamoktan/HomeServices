{% extends "jobs/customer_base.html" %}
{% load static %}

{% block title %}Help & Support - AppointMate{% endblock %}

{% block content %}
<div class="mb-8">
  <h1 class="text-3xl font-bold text-gray-800 mb-2">Help & Support</h1>
  <p class="text-gray-600 text-lg">Get help with your account and find answers to common questions</p>
</div>

<div class="space-y-8">
  <!-- Quick Help Cards -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <div class="bg-white rounded-2xl shadow-lg p-6 text-center transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
      <div class="w-20 h-20 bg-gradient-to-br from-blue-100 to-blue-200 rounded-full flex items-center justify-center mx-auto mb-4">
        <i class="fas fa-question-circle text-blue-600 text-3xl"></i>
      </div>
      <h3 class="text-xl font-semibold text-gray-800 mb-3">FAQs</h3>
      <p class="text-gray-600 mb-4">Find answers to commonly asked questions</p>
      <a href="#faq" class="inline-block bg-gradient-to-r from-blue-600 to-blue-700 text-white px-5 py-3 rounded-xl hover:shadow-lg transition-all">
        View FAQs
      </a>
    </div>

    <div class="bg-white rounded-2xl shadow-lg p-6 text-center transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
      <div class="w-20 h-20 bg-gradient-to-br from-green-100 to-green-200 rounded-full flex items-center justify-center mx-auto mb-4">
        <i class="fas fa-comments text-green-600 text-3xl"></i>
      </div>
      <h3 class="text-xl font-semibold text-gray-800 mb-3">Live Chat</h3>
      <p class="text-gray-600 mb-4">Chat with our support team in real-time</p>
      <button class="bg-gradient-to-r from-green-600 to-green-700 text-white px-5 py-3 rounded-xl hover:shadow-lg transition-all">
        Start Chat
      </button>
    </div>

    <div class="bg-white rounded-2xl shadow-lg p-6 text-center transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
      <div class="w-20 h-20 bg-gradient-to-br from-purple-100 to-purple-200 rounded-full flex items-center justify-center mx-auto mb-4">
        <i class="fas fa-envelope text-purple-600 text-3xl"></i>
      </div>
      <h3 class="text-xl font-semibold text-gray-800 mb-3">Email Support</h3>
      <p class="text-gray-600 mb-4">Send us an email and we'll get back to you</p>
      <a href="mailto:support@appointmate.com" class="inline-block bg-gradient-to-r from-purple-600 to-purple-700 text-white px-5 py-3 rounded-xl hover:shadow-lg transition-all">
        Email Us
      </a>
    </div>
  </div>

  <!-- Contact Form -->
  <div class="bg-white rounded-2xl shadow-lg p-8 transition-all duration-300 hover:shadow-xl">
    <h2 class="text-2xl font-bold text-gray-800 mb-2">Contact Support</h2>
    <p class="text-gray-600 mb-6">Fill out the form below and we'll get back to you as soon as possible</p>
    
    <form class="space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label for="name" class="block text-sm font-medium text-gray-700 mb-2">Your Name</label>
          <input type="text" id="name" name="name" value="{{ customer.name }}" 
                 class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors">
        </div>
        
        <div>
          <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
          <input type="email" id="email" name="email" value="{{ customer.owner.email }}" 
                 class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors">
        </div>
      </div>

      <div>
        <label for="subject" class="block text-sm font-medium text-gray-700 mb-2">Subject</label>
        <select id="subject" name="subject" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors">
          <option value="">Select a topic</option>
          <option value="booking_issue">Booking Issue</option>
          <option value="payment_problem">Payment Problem</option>
          <option value="worker_complaint">Worker Complaint</option>
          <option value="account_help">Account Help</option>
          <option value="technical_issue">Technical Issue</option>
          <option value="other">Other</option>
        </select>
      </div>

      <div>
        <label for="message" class="block text-sm font-medium text-gray-700 mb-2">Message</label>
        <textarea id="message" name="message" rows="5" 
                  class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"
                  placeholder="Please describe your issue or question in detail..."></textarea>
      </div>

      <div class="flex items-center">
        <input type="checkbox" id="urgent" name="urgent" class="h-5 w-5 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
        <label for="urgent" class="ml-3 text-sm text-gray-700 font-medium">This is urgent</label>
      </div>

      <div class="flex justify-end">
        <button type="submit" class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-3 rounded-xl hover:shadow-lg transition-all">
          <i class="fas fa-paper-plane mr-2"></i>
          Send Message
        </button>
      </div>
    </form>
  </div>

  <!-- FAQ Section -->
  <div id="faq" class="bg-white rounded-2xl shadow-lg p-8 transition-all duration-300 hover:shadow-xl">
    <h2 class="text-2xl font-bold text-gray-800 mb-2">Frequently Asked Questions</h2>
    <p class="text-gray-600 mb-6">Quick answers to common questions</p>
    
    <div class="space-y-4">
      <div class="border border-gray-200 rounded-xl transition-all duration-300 hover:border-indigo-300">
        <button class="w-full px-6 py-5 text-left flex justify-between items-center hover:bg-gray-50 focus:outline-none focus:bg-gray-50 transition-colors rounded-xl" 
                onclick="toggleFaq('faq1')">
          <span class="font-semibold text-gray-800 text-lg">How do I book an appointment?</span>
          <i class="fas fa-chevron-down text-gray-400 transform transition-transform duration-300" id="faq1-icon"></i>
        </button>
        <div id="faq1" class="hidden px-6 pb-5">
          <p class="text-gray-600">To book an appointment, browse our list of available workers, select the one that meets your needs, choose your preferred date and time, and confirm your booking. You'll receive a confirmation email once your request is submitted.</p>
        </div>
      </div>

      <div class="border border-gray-200 rounded-xl transition-all duration-300 hover:border-indigo-300">
        <button class="w-full px-6 py-5 text-left flex justify-between items-center hover:bg-gray-50 focus:outline-none focus:bg-gray-50 transition-colors rounded-xl" 
                onclick="toggleFaq('faq2')">
          <span class="font-semibold text-gray-800 text-lg">How can I cancel or reschedule my appointment?</span>
          <i class="fas fa-chevron-down text-gray-400 transform transition-transform duration-300" id="faq2-icon"></i>
        </button>
        <div id="faq2" class="hidden px-6 pb-5">
          <p class="text-gray-600">You can cancel your appointment by going to your appointments page and clicking the "Delete Appointment" button. For rescheduling, you'll need to cancel the current appointment and book a new one for your preferred time.</p>
        </div>
      </div>

      <div class="border border-gray-200 rounded-xl transition-all duration-300 hover:border-indigo-300">
        <button class="w-full px-6 py-5 text-left flex justify-between items-center hover:bg-gray-50 focus:outline-none focus:bg-gray-50 transition-colors rounded-xl" 
                onclick="toggleFaq('faq3')">
          <span class="font-semibold text-gray-800 text-lg">What payment methods do you accept?</span>
          <i class="fas fa-chevron-down text-gray-400 transform transition-transform duration-300" id="faq3-icon"></i>
        </button>
        <div id="faq3" class="hidden px-6 pb-5">
          <p class="text-gray-600">We accept all major credit cards, debit cards, and digital payment methods. Payment is typically processed after the service is completed to your satisfaction.</p>
        </div>
      </div>

      <div class="border border-gray-200 rounded-xl transition-all duration-300 hover:border-indigo-300">
        <button class="w-full px-6 py-5 text-left flex justify-between items-center hover:bg-gray-50 focus:outline-none focus:bg-gray-50 transition-colors rounded-xl" 
                onclick="toggleFaq('faq4')">
          <span class="font-semibold text-gray-800 text-lg">How do I rate and review a worker?</span>
          <i class="fas fa-chevron-down text-gray-400 transform transition-transform duration-300" id="faq4-icon"></i>
        </button>
        <div id="faq4" class="hidden px-6 pb-5">
          <p class="text-gray-600">After your appointment is completed, you'll see a rating option in your appointments list. Click the "Submit Rating" button, select your star rating, leave a comment if you'd like, and submit your review.</p>
        </div>
      </div>

      <div class="border border-gray-200 rounded-xl transition-all duration-300 hover:border-indigo-300">
        <button class="w-full px-6 py-5 text-left flex justify-between items-center hover:bg-gray-50 focus:outline-none focus:bg-gray-50 transition-colors rounded-xl" 
                onclick="toggleFaq('faq5')">
          <span class="font-semibold text-gray-800 text-lg">What if I'm not satisfied with the service?</span>
          <i class="fas fa-chevron-down text-gray-400 transform transition-transform duration-300" id="faq5-icon"></i>
        </button>
        <div id="faq5" class="hidden px-6 pb-5">
          <p class="text-gray-600">If you're not satisfied with the service, please contact our support team immediately. We take all complaints seriously and will work to resolve the issue. You can also leave feedback in your review to help other customers and improve our services.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Contact Information -->
  <div class="bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl p-8 text-white shadow-lg">
    <h2 class="text-2xl font-bold mb-2">Still Need Help?</h2>
    <p class="opacity-90 mb-6">We're here to assist you with any questions or concerns</p>
    
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <div class="text-center">
        <div class="w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fas fa-envelope text-2xl"></i>
        </div>
        <h3 class="font-semibold text-lg mb-2">Email Support</h3>
        <p class="opacity-90">support@appointmate.com</p>
        <p class="text-sm opacity-75 mt-1">Response time: 24 hours</p>
      </div>
      
      <div class="text-center">
        <div class="w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fas fa-phone text-2xl"></i>
        </div>
        <h3 class="font-semibold text-lg mb-2">Phone Support</h3>
        <p class="opacity-90">+977-1-234-5678</p>
        <p class="text-sm opacity-75 mt-1">Mon-Fri, 9 AM - 6 PM</p>
      </div>
      
      <div class="text-center">
        <div class="w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fas fa-comments text-2xl"></i>
        </div>
        <h3 class="font-semibold text-lg mb-2">Live Chat</h3>
        <p class="opacity-90">Available 24/7</p>
        <p class="text-sm opacity-75 mt-1">Average response: 5 minutes</p>
      </div>
    </div>
  </div>
</div>

<script>
function toggleFaq(faqId) {
  const faq = document.getElementById(faqId);
  const icon = document.getElementById(faqId + '-icon');
  
  if (faq.classList.contains('hidden')) {
    faq.classList.remove('hidden');
    icon.classList.add('rotate-180');
  } else {
    faq.classList.add('hidden');
    icon.classList.remove('rotate-180');
  }
}
</script>
{% endblock %}